<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Installing and deploying | bitwarden Help &amp; Support</title>

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          rel="stylesheet" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,300italic,400italic,600italic"
          rel="stylesheet" type="text/css">

    <link href="/css/styles.css?v=1503674618"
          rel="stylesheet" type="text/css">

    <link href="/lib/fluidbox/css/fluidbox.min.css?v=1503674618"
          rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/" onclick="gaEvent('Nav Logo')">
                    <i class="fa fa-shield"></i>
                    <span class="visible-xs-inline"><strong>bit</strong>warden</span>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="menu">
                <ul class="nav navbar-nav">
                    <li><a href="/">Help Center</a></li>
                    <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://bitwarden.com" onclick="gaEvent('Return')">
                            <i class="fa fa-share fa-flip-horizontal fa-fw"></i> Return to bitwarden.com
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <header>
        <div class="container">
            <form action="/search/" method="get">
                <div class="input-group input-group-lg">
                    <input type="search" class="form-control" placeholder="Search the help center..."
                           id="search-box" name="q">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit" onclick="gaEvent('Search')">
                            <i class="fa fa-search"></i>
                            <span class="sr-only">Search</span>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </header>

    <content>
        


<div class="container">
    <h1 class="page-header">
        <i class="fa fa-file-text-o"></i>
        Installing and deploying
    </h1>
    <div class="breadcrumb">
        Category:
        
        
        
        
        
        
        
        
        
        
        <a href="/hosting/">On-premise Hosting</a>
        
        
        
        
        
        
        
        
        
        
        
    </div>
    <div class="panel panel-default article">
        <div class="panel-body">
            <p>This article will walk you through how to install and deploy bitwarden to your own server.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#tldr">TL;DR</a></li>
  <li><a href="#configure-your-domain">Configure Your Domain</a></li>
  <li><a href="#install-docker">Install Docker</a></li>
  <li><a href="#adjust-docker-resources">Adjust Docker Resources</a></li>
  <li><a href="#install-bitwarden">Install bitwarden</a></li>
  <li><a href="#post-install-environment-configuration">Post-install Environment Configuration</a></li>
  <li><a href="#deploy-bitwarden">Deploy bitwarden</a></li>
  <li><a href="#script-commands">Script Commands</a></li>
</ul>

<h2 id="tldr">TL;DR</h2>

<ol>
  <li>Set DNS records for a domain name pointing to your machine. Open ports 80 and 443 on the machine.</li>
  <li>Install <a href="https://docs.docker.com/engine/installation/" target="_blank">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank">Docker Compose</a>. If using Windows or macOS, adjust Docker so that it has at least 4 GB of RAM available.</li>
  <li>Get an installation id and key from <a href="https://bitwarden.com/install" target="_blank">https://bitwarden.com/install</a>.</li>
  <li>
    <p>Install &amp; deploy bitwarden.</p>

    <p><i class="fa fa-linux"></i> <i class="fa fa-apple"></i> Bash</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>curl -s -o bitwarden.sh \
    https://raw.githubusercontent.com/bitwarden/core/master/scripts/bitwarden.sh \
    &amp;&amp; sudo chmod u+x bitwarden.sh
./bitwarden.sh install
./bitwarden.sh start
./bitwarden.sh updatedb
</code></pre>
    </div>

    <p><i class="fa fa-windows"></i> PowerShell</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Invoke-RestMethod -OutFile bitwarden.ps1 `
    -Uri https://raw.githubusercontent.com/bitwarden/core/master/scripts/bitwarden.ps1
.\bitwarden.ps1 -install
.\bitwarden.ps1 -start
.\bitwarden.ps1 -updatedb
</code></pre>
    </div>
  </li>
  <li>
    <p>Adjust additional configuration settings in <code class="highlighter-rouge">./bitwarden/env/global.override.env</code> and restart.</p>

    <p><i class="fa fa-linux"></i> <i class="fa fa-apple"></i> Bash</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>./bitwarden.sh restart
</code></pre>
    </div>

    <p><i class="fa fa-windows"></i> PowerShell</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>.\bitwarden.ps1 -restart
</code></pre>
    </div>
  </li>
  <li>Test your deployment. Visit the web vault at your configured domain name, register a new account, and log in.</li>
</ol>

<h2 id="configure-your-domain">Configure Your Domain</h2>

<p>bitwarden will be served through ports 80 (http) and 443 (https) on the localhost machine. You should open these ports so that bitwarden can be accessed from within and/or outside of the network.</p>

<p>It you are serving bitwarden to the outside world you will need to configure a domain name with DNS records that point to your host machine (ex. bitwarden.company.com). You should configure this domain before beginning your bitwarden installation.</p>

<h2 id="install-docker">Install Docker</h2>

<p>bitwarden will be deployed and ran on your machine using an array of <a href="https://www.docker.com/what-docker" target="_blank">Docker</a> containers. bitwarden will work equally well with Docker Community (free) and Enterprise editions. You should evaluate which edition is best for your installation. Additionally, deployment of these containers is orchestrated through the use of <a href="https://docs.docker.com/compose/" target="_blank">Docker Compose</a>. Docker and Docker Compose must first be installed on your machine before beginning a bitwarden installation.</p>

<p>See the following official Docker documentation for more information:</p>

<ul>
  <li><a href="https://docs.docker.com/engine/installation/" target="_blank">Install Docker</a></li>
  <li><a href="https://docs.docker.com/compose/install/" target="_blank">Install Docker Compose</a></li>
</ul>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>Some Docker installations such as Windows and macOS already come with Docker Compose installed.</p>

        </div>

<p>For reference, you can find the official bitwarden images hosted on Docker Hub at <a href="https://hub.docker.com/u/bitwarden/" target="_blank">https://hub.docker.com/u/bitwarden/</a>.</p>

<h2 id="adjust-docker-resources">Adjust Docker Resources</h2>

<p>SQL Server requires that Docker be allocated with a minimum of 4 GB of RAM. By default, Docker on macOS and Windows only has 2 GB of RAM allocated. Docker on Linux should be ok.</p>

<p>To adjust this, simply go to Docker (click on the docker icon) → Preferences → Advanced. Change the slider to 4 GB (or more), save, and restart Docker.</p>

<p>You can read more about this at <a href="https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker" target="_blank">https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker</a>.</p>

<h2 id="install-bitwarden">Install bitwarden</h2>

<p>We’ve made installing bitwarden very simple. Depending in your environment (non-Windows vs. Windows) we provide Bash (Linux and macOS) and PowerShell (Windows) scripts to aide in installing and managing your bitwarden installation. The following steps will include references for both Bash  and PowerShell.</p>

<ol>
  <li>
    <p>Download the main bitwarden script to your machine in the desired location:</p>

    <div class="callout callout-info">
         <h3><i class="fa fa-info-circle"></i> Note</h3>
         <p>All bitwarden assets will be installed in the <code class="highlighter-rouge">./bitwarden</code> directory relative to where the main script resides.</p>

     </div>

    <p><i class="fa fa-linux"></i> <i class="fa fa-apple"></i> Bash</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>curl -s -o bitwarden.sh \
    https://raw.githubusercontent.com/bitwarden/core/master/scripts/bitwarden.sh \
    &amp;&amp; sudo chmod u+x bitwarden.sh
</code></pre>
    </div>

    <p><i class="fa fa-windows"></i> PowerShell</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Invoke-RestMethod -OutFile bitwarden.ps1 `
    -Uri https://raw.githubusercontent.com/bitwarden/core/master/scripts/bitwarden.ps1
</code></pre>
    </div>
  </li>
  <li>
    <p>Start the installer:</p>

    <p><i class="fa fa-linux"></i> <i class="fa fa-apple"></i> Bash</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>./bitwarden.sh install
</code></pre>
    </div>

    <p><i class="fa fa-windows"></i> PowerShell</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>.\bitwarden.ps1 -install
</code></pre>
    </div>
  </li>
  <li>
    <p>Complete the prompts in the installer.</p>

    <p><strong>SSL Certificate</strong></p>

    <ul>
      <li>
        <p>bitwarden can generate a maintain renewal of a trusted SSL certificate for your domain for completely free provided by <a href="https://letsencrypt.org" target="_blank">Let’s Encrypt</a> and <a href="https://certbot.eff.org" target="_blank">Certbot</a>. Certificate renewal checks occur each time bitwarden is restarted.</p>
      </li>
      <li>If you already have your own SSL certificate you can place the following files in the <code class="highlighter-rouge">./bitwarden/ssl/your.domain.com</code> directory:
        <ul>
          <li>certificate.crt (required)</li>
          <li>private.key (required)</li>
          <li>ca.crt (optional, if trusted)</li>
          <li>dhparam.pem (optional, if using Diffie Hellman ephemeral parameters)</li>
        </ul>
      </li>
      <li>If you are only testing, you can choose to generate a self-signed certificate for your installation.</li>
    </ul>

    <div class="callout callout-warning">
         <h3><i class="fa fa-warning"></i> Warning</h3>
         <p>It is not recommended to use bitwarden without a SSL certificate. You should at least use a self-signed certificate.</p>

     </div>

    <p><strong>Installation Id/Key</strong></p>

    <p>Each bitwarden installation requires a unique installation id and installation key. You should not share your installation id or installation key across multiple bitwarden installations. They should be treated as secrets.</p>

    <p>You can obtain an installation id and key from <a href="https://bitwarden.com/install" target="_blank">https://bitwarden.com/install</a>.</p>

    <p><strong>Push Notifications</strong></p>

    <p>If you would like to take advantage of having push notifications automatically keep your bitwarden client applications synced in real time you can choose to use the bitwarden push notification relay service. This relay service is provided by external bitwarden servers. You should ensure that your machine can communicate with the <code class="highlighter-rouge">https://push.bitwarden.com</code> endpoint. Your bitwarden installation will POST <strong>non-sensitive data</strong> (reference ids) to the relay service which will then notify the bitwarden client applications to “phone home” for an update back to your installation.</p>

    <p>The use of the push notification relay service is optional. If you do not use this service you will need to keep your client applications in sync manually.</p>
  </li>
</ol>

<h2 id="post-install-environment-configuration">Post-install Environment Configuration</h2>

<p>Some features such as a SMTP mail server and YubiKey OTP API credentials are not configured by the installer. You can find the environment file for these settings (and all others) in the following location: <code class="highlighter-rouge">./bitwarden/env/global.override.env</code>. Edit this file and REPLACE the placeholders values for them.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>globalSettings__yubico__clientId=REPLACE
globalSettings__yubico__key=REPLACE
globalSettings__mail__smtp__host=REPLACE
globalSettings__mail__smtp__username=REPLACE
globalSettings__mail__smtp__password=REPLACE
globalSettings__mail__smtp__ssl=true
globalSettings__mail__smtp__port=587
</code></pre>
</div>

<p>You can get a YubiKey client id and key at <a href="https://upgrade.yubico.com/getapikey/" target="_blank">https://upgrade.yubico.com/getapikey/</a>.</p>

<h2 id="deploy-bitwarden">Deploy bitwarden</h2>

<p>Once you’ve completed installing and configuring your bitwarden installation you can start it up:</p>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>The first time you start bitwarden it may take some time as it downloads all of the images from Docker Hub.</p>

        </div>

<p><i class="fa fa-linux"></i> <i class="fa fa-apple"></i> Bash</p>

<div class="highlighter-rouge"><pre class="highlight"><code>./bitwarden.sh start
</code></pre>
</div>

<p><i class="fa fa-windows"></i> PowerShell</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.\bitwarden.ps1 -start
</code></pre>
</div>

<p>You can then verify that all containers are up and running correctly:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>docker ps
</code></pre>
</div>

<p><a href="/images/hosting/docker-ps.png" target="_blank" rel="lightbox">
            <img class="img-responsive img-thumbnail img-tag" src="/images/hosting/docker-ps.png" />
        </a></p>

<p>Finally, you need to initialize and update the bitwarden database:</p>

<p><i class="fa fa-linux"></i> <i class="fa fa-apple"></i> Bash</p>

<div class="highlighter-rouge"><pre class="highlight"><code>./bitwarden.sh updatedb
</code></pre>
</div>

<p><i class="fa fa-windows"></i> PowerShell</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.\bitwarden.ps1 -updatedb
</code></pre>
</div>

<p>Congratulations! bitwarden is now up and running at <code class="highlighter-rouge">https://your.domain.com</code>. Visit the web vault in your web browser to confirm. You should register a new account and log in.</p>

<h2 id="script-commands">Script Commands</h2>

<p>The bitwarden main script (<code class="highlighter-rouge">bitwarden.sh</code> or <code class="highlighter-rouge">bitwarden.ps1</code>) has the following commands available:</p>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>PowerShell users will run the commands with a prefixed <code class="highlighter-rouge">-</code> (switch). For example <code class="highlighter-rouge">.\bitwarden.ps1 -start</code>.</p>

        </div>

<div class="table-responsive">
            
<table>
  <thead>
    <tr>
      <th>Command</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>install</td>
      <td>Start the installer.</td>
    </tr>
    <tr>
      <td>start</td>
      <td>Start all containers.</td>
    </tr>
    <tr>
      <td>restart</td>
      <td>Restart all containers (same as start).</td>
    </tr>
    <tr>
      <td>stop</td>
      <td>Stop all containers.</td>
    </tr>
    <tr>
      <td>updatedb</td>
      <td>Update the database.</td>
    </tr>
    <tr>
      <td>update</td>
      <td>Update all containers and the database.</td>
    </tr>
    <tr>
      <td>updateself</td>
      <td>Update this main script.</td>
    </tr>
  </tbody>
</table>


        </div>

        </div>
        
        
        <div class="panel-footer">
            <i class="fa fa-tags fa-fw"></i>
            hosting, docker, install, deploy
        </div>
        
    </div>
    <div class="row article-blocks">
        <div class="col-sm-6">
            <div class="panel panel-default panel-rate">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-thumbs-o-up"></i> Was this helpful?</h3>
                </div>
                <div class="panel-body">
                    <p>Rate this article:</p>
                    <div class="rw-ui-container"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="panel panel-default panel-contact">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-envelope-o"></i> Email Us</h3>
    </div>
    <div class="panel-body">
        <p>Want to talk to a human?</p>
        <a href="https://bitwarden.com/contact/" onclick="gaEvent('Talk To Human')">
            <i class="fa fa-long-arrow-right"></i>
            Send Us An Email
        </a>
    </div>
</div>
        </div>
    </div>
</div>

<script>
    (function (d, t, e, m) {
        // Async Rating-Widget initialization.
        window.RW_Async_Init = function () {
            RW.init({
                huid: "340409",
                uid: "1a448820f2de881574e56e07bffdd7e8",
                source: "website",
                options: {
                    "size": "medium",
                    "type": "nero",
                    "style": "thumbs",
                    "isDummy": false
                }
            });
            RW.render();
        };
        // Append Rating-Widget JavaScript library.
        var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
            l = d.location, ck = "Y" + t.getFullYear() +
                "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
            f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
            a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
        if (d.getElementById(id)) return;
        rw = d.createElement(e);
        rw.id = id; rw.async = true; rw.type = "text/javascript";
        rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
        s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));
</script>

    </content>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-4 col-xs-6">
                    <h4>Links</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://bitwarden.com">Home</a></li>
                        <li><a href="https://bitwarden.com/#download">Download</a></li>
                        <li><a href="https://bitwarden.com/#organizations">Business</a></li>
                        <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                        <li><a href="https://bitwarden.com/credits">Credits</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-6">
                    <h4 class="invisible">&nbsp;</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://blog.bitwarden.com" onclick="gaEvent('Footer Blog')">Blog</a></li>
                        <li><a href="/">Help/Support</a></li>
                        <li>
                            <a href="https://github.com/bitwarden" target="_blank" onclick="gaEvent('Footer Source Code')">
                                Source Code
                            </a>
                        </li>
                        <li><a href="https://bitwarden.com/terms">Terms of Service</a></li>
                        <li><a href="https://bitwarden.com/privacy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-12 social">
                    <h4>Follow Us</h4>
                    <ul class="list-inline">
                        <li>
                            <a href="https://twitter.com/bitwarden_app" title="Twitter" onclick="gaEvent('Follow Twitter')"
                               target="_blank">
                                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/bitwarden/" title="Facebook" onclick="gaEvent('Follow Facebook')"
                               target="_blank">
                                <i class="fa fa-facebook-square"></i><span class="sr-only">Facebook</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://plus.google.com/114869903467947368993" title="Google+" target="_blank"
                               onclick="gaEvent('Follow Google+')">
                                <i class="fa fa-google-plus-square"></i><span class="sr-only">Google+</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/bitwarden" title="GitHub" onclick="gaEvent('Follow GitHub')"
                               target="_blank">
                                <i class="fa fa-github"></i><span class="sr-only">GitHub</span>
                            </a>
                        </li>
                    </ul>
                    &copy; 2015 - 2017, <br class="visible-sm" />8bit Solutions LLC
                </div>
            </div>
        </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>(window.jQuery || document.write('<script src="lib\/jquery\/jquery.min.js?v=1503674618"><\/script>'));</script>

    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>((window.jQuery && window.jQuery.fn && window.jQuery.fn.modal) || document.write('<script src="lib\/bootstrap\/js\/bootstrap.min.js?v=1503674618"><\/script>'));</script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="/lib/fluidbox/js/jquery.fluidbox.min.js"></script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-81915606-10', 'auto');
        ga('send', 'pageview');

        function gaEvent(action) {
            ga('send', {
                hitType: 'event',
                eventCategory: 'main',
                eventAction: action
            });
        }

        $(function () {
            var lightboxOpen = false,
                lightboxSelector = 'a[rel="lightbox"]';

            $(lightboxSelector)
                .on('openstart.fluidbox', function () {
                    lightboxOpen = true;
                })
                .on('closestart.fluidbox', function () {
                    lightboxOpen = false;
                })
                .fluidbox();

            $(document).keydown(function (e) {
                if (lightboxOpen && e.keyCode === 27) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $(window).scroll(function () {
                if (lightboxOpen) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $('.article .panel-body > h2, .article .panel-body > h3').filter('[id]').each(function () {
                var header = $(this),
                    headerID = header.attr('id'),
                    anchorClass = 'header-link',
                    anchorIcon = '<i class="fa fa-link" aria-hidden="true"></i>';

                if (headerID) {
                    header.append($('<a />')
                        .addClass(anchorClass)
                        .attr({ 'href': '#' + headerID, 'aria-hidden': 'true', title: 'Permalink' })
                        .html(anchorIcon));
                }
                return this;
            });
        });
    </script>
</body>
</html>